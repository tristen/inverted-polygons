(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{113:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(39),l=n.n(r),s=n(40),i=n(41),c=n(46),p=n(42),d=n(47),u=n(10),m=n.n(u),f=n(17),g=n(44),h=n(45),v=n.n(h),y=n(11),b=n.n(y),x="Drag and drop GeoJSON containing polygons on the map.",j=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(p.a)(t).call(this,e))).mapContainer=null,n.setMapContainer=function(e){return n.mapContainer=e},n.onDownload=function(){var e=new Blob([JSON.stringify(n.state.geojson,null,2)],{type:"text/plain;charset=utf-8"});Object(g.saveAs)(e,"inverted.geojson")},n.onClear=function(){n.setState({geojson:null,helpText:x},function(){n.map.removeLayer("inverted-poly-fill"),n.map.removeLayer("inverted-poly-line"),n.map.removeSource("geojson")})},n.onUpload=function(e){n.setState({helpText:a.a.createElement("span",{className:"loading loading--s loading--dark"})});var t=new FileReader;t.addEventListener("load",function(e){var t,o;try{t=JSON.parse(e.target.result),o=v()(t),b()(t)}catch(a){n.setState({helpText:a.message})}n.setState({geojson:o,helpText:"Download, drag more, or press clear to start over"},function(){n.map.getSource("geojson")?n.map.getSource("geojson").setData(o):(n.map.addSource("geojson",{type:"geojson",data:o}),n.map.addLayer({id:"inverted-poly-fill",type:"fill",source:"geojson",paint:{"fill-color":"hsla(229, 96%, 62%, 0.52)"}}),n.map.addLayer({id:"inverted-poly-line",type:"line",source:"geojson",paint:{"line-color":"hsl(229, 96%, 62%)"}})),b()(t)&&n.map.fitBounds(b()(t),{easing:function(){return 1}})})}),t.readAsText(e[0])},n.state={geojson:null,helpText:x},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){window.mapboxgl.accessToken="pk.eyJ1IjoidHJpc3RlbiIsImEiOiJjanZhZjlrd3EwanpoNDN0ZHhsbDFvd2F2In0.0pfXaCB-i3h6VLEIPSDaXw",this.map=new window.mapboxgl.Map({container:this.mapContainer,style:"mapbox://styles/mapbox/streets-v11",center:[5,34],zoom:1.5,hash:!0})}},{key:"render",value:function(){var e=this.state,t=e.helpText,n=e.geojson,o=this.props,r=o.connectDropTarget,l=o.isOver;return r(a.a.createElement("div",null,a.a.createElement("div",{className:"flex-parent flex-parent--end-cross flex-parent--center-main absolute top right bottom left"},a.a.createElement("div",{className:"bg-darken75 py6 px6 flex-child mb24 z1 txt-s txt-bold flex-parent flex-parent--center-cross round-full hmin30"},a.a.createElement("div",{className:"flex-child color-white inline-block round-l-full px12"},t),a.a.createElement("div",{className:"flex-parent"},n&&a.a.createElement("button",{className:"flex-child btn btn--gray px24 round-l",onClick:this.onClear},"Clear"),a.a.createElement("button",{className:"".concat(n?"round-r-full":"round-full"," flex-child btn btn--green px24"),onClick:this.onDownload},"Download")))),l&&a.a.createElement("div",{className:"bg-darken25 fixed left right top bottom events-none z5"}),a.a.createElement("div",{ref:this.setMapContainer,className:"absolute top right left bottom"})))}}]),t}(a.a.PureComponent),w=Object(f.DropTarget)(u.NativeTypes.FILE,{drop:function(e,t,n){return n.onUpload(t.getItem().files)}},function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}),E=Object(f.DragDropContext)(m.a)(w(j));l.a.render(a.a.createElement(E,null),document.getElementById("app"))},45:function(e,t,n){var o=n(108),a={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]]}}]};e.exports=function(e){return o(e).features.forEach(function(e){"Polygon"===e.geometry.type&&a.features[0].geometry.coordinates.push(e.geometry.coordinates[0])}),a}},48:function(e,t,n){e.exports=n(113)}},[[48,1,2]]]);
//# sourceMappingURL=main.12091962.chunk.js.map